<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>CRUD com python</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-iYQeCzEYFbKjA/T2uDLTpkwGzCiq6soy8tYaI1GyVh/UjpbCx/TYkiZhlZB6+fzT" crossorigin="anonymous">
</head>
<body>
    <div class="col-8 m-auto pt-2 pb-2 text-center">
        <h1>Crud com Python</h1>
    </div>

    <div class="col-8 m-auto pt-3 pb-2 text-center">
        <a href="/form" class="btn btn-success">Adcionar</a>
    </div>

    <div class="col-8 m-auto pt-2 pb-2 text-center">
        <form method="get">
            <input type="text" id="search" name="search" class="form-control" placeholder="Buscar...">
        </form>
    </div>

    <div class="col-8 m-auto pt-4 pb-2 text-center">
        <table class="table table-dark">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Modelo</th>
              <th scope="col">Marca</th>
              <th scope="col">Ano</th>
              <th scope="col">Ações</th>
            </tr>
          </thead>
          <tbody>
          {% for dbs in db %}
           <tr>
              <th>{{dbs.id}}</th>
              <td>{{dbs.modelo}}</td>
              <td>{{dbs.marca}}</td>
              <td>{{dbs.ano}}</td>
              <td>
                  <a href="/view/{{dbs.id}}/" class="btn btn-success">Visualizar</a>
                  <a href="/edit/{{dbs.id}}/" class="btn btn-primary">Editar</a>
                  <a href="/delete/{{dbs.id}}" class="btn btn-danger btnDel">Deletar</a>
              </td>
           </tr>
          {% endfor %}

          </tbody>
        </table>
    </div>
    <nav class="navbar navbar-expand-lg justify-content-center" aria-label="Page navigation example">
      <ul class="pagination">

        {%  if db.has_previous %}
            <li class="page-item"><a class="page-link" href="?page={{db.previous_page_number}}">Previous</a></li>
        {% else %}
            <li class="page-item"><a class="page-link" href="#">Previous</a></li>
        {% endif %}
            <li class="page-item"><a class="page-link" href="#">{{db.number}}</a></li>

        {%  if db.has_next %}
            <li class="page-item"><a class="page-link" href="?page={{db.next_page_number}}">Next</a></li>
        {% else %}
            <li class="page-item"><a class="page-link" href="#">Next</a></li>
        {% endif %}
      </ul>
    </nav>

    {% load static %}
    <script src="{% static 'javascript.js' %}"></script>
</body>
</html>